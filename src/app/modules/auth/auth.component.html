<div class="login">
  <div class="site-content">
    <main>
      <div
        class="wrapper flow"
        data-size="xs"
      >
        <div class="headline flow">
          <h1 class="headline__title">Book Management</h1>
          <p>
            <a
              data-test="auth.anchor.account"
              title="Create a Clario account"
              class="link link-bg"
              (click)="onSwitchMode()"
              >{{ isLoginMode ? "Don't have an account?" : "Already have an account?" }}</a
            >
          </p>
        </div>

        <form
          [formGroup]="loginForm"
          class="flow"
        >
          <fieldset>
            <div
              id="username-fieldset"
              class="fieldset-item"
              [ngClass]="{ 'is-negative': loginForm.get('username')?.invalid && loginForm.get('username')?.touched }"
            >
              <label for="username">Username</label>
              <input
                id="username"
                name="username"
                required=""
                type="text"
                class="width-max-unset"
                formControlName="username"
              />
              <small
                class="is-negative"
                *ngIf="loginForm.get('username')?.errors?.required && loginForm.get('username')?.touched"
                >This field is required</small
              >
            </div>
            <div
              id="password-fieldset"
              class="fieldset-item"
              [ngClass]="{ 'is-negative': loginForm.get('password')?.invalid && loginForm.get('password')?.touched }"
            >
              <label for="password">Password</label>
              <input
                id="password"
                name="Password"
                required=""
                type="text"
                class="width-max-unset"
                formControlName="password"
              />
              <small
                class="is-negative"
                *ngIf="loginForm.get('password')?.errors?.required && loginForm.get('password')?.touched"
                >This field is required</small
              >
            </div>
            <div
              class="notification"
              data-type="negative"
              *ngIf="!!errorMessage"
            >
              <span>{{ errorMessage }}</span>
            </div>
            <div
              class="notification"
              data-type="positive"
              *ngIf="!!message"
            >
              <span>{{ message }}</span>
            </div>
          </fieldset>
          <button
            class="button"
            data-type="primary"
            type="submit"
            data-display="bloc"
            (click)="onSubmit()"
            [disabled]="!loginForm.valid"
          >
            {{ isLoginMode ? "Login" : "Register" }}
          </button>
        </form>
      </div>
    </main>
  </div>
</div>
