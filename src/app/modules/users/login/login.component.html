<h1>Login</h1>
<form
  [formGroup]="loginForm"
  class="flow"
>
  <fieldset>
    <div
      class="fieldset-item"
      [ngClass]="{ 'is-negative': loginForm.get('userName')?.invalid && loginForm.get('userName')?.touched }"
    >
      <label for="userName">Username</label>
      <input
        id="userName"
        name="UserName"
        required=""
        type="text"
        class="width-max-unset"
        formControlName="userName"
      />
      <small
        class="is-negative"
        *ngIf="loginForm.get('userName')?.errors?.required && loginForm.get('userName')?.touched"
        >This field is required</small
      >
    </div>
    <div
      class="fieldset-item"
      [ngClass]="{ 'is-negative': loginForm.get('password')?.invalid && loginForm.get('password')?.touched }"
    >
      <label for="password">Password</label>
      <input
        id="password"
        name="Password"
        required=""
        type="text"
        class="width-max-unset"
        formControlName="password"
      />
      <small
        class="is-negative"
        *ngIf="loginForm.get('password')?.errors?.required && loginForm.get('password')?.touched"
        >This field is required</small
      >
    </div>
    <div
      class="fieldset-item is-negative"
      *ngIf="failedToAuthenticate"
    >
      <p>User name or password is incorrect</p>
    </div>
  </fieldset>
  <button
    class="button"
    data-type="primary"
    (click)="onLogin()"
  >
    Login
  </button>
</form>
